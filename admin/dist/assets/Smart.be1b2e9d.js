import{_ as I,r as b,v as u,x as c,o as m,y as F,w as r,f as a,b as f,c as g,e as k,t as h,F as V,j as p}from"./index.9c473442.js";import{d as M}from"./debounce.c8e510f3.js";const N={name:"ProductAll",components:{},data(){const t=["samsung","realme","Xiaomi","Tecno","BQ"],e=b(""),s=b([]),n=[],o="";return{loading:!1,options:t,singleSelect:e,multiSelect:s,items:n,columns:[{key:"name",sortable:!0},{key:"price",sortable:!0},{key:"count_learn",sortable:!0,width:20},{key:"actions",width:80},{key:"favorite",width:50}],input:o,filter:o,isDebounceInput:!1,isCustomFilteringFn:!1,filteredCount:n.length,listPrice:Array}},methods:{filterExact(t){var e;return this.filter===""?!0:(console.log(filter),((e=t==null?void 0:t.toString)==null?void 0:e.call(t))===this.filter)},updateFilter(t){this.filter=t},debouncedUpdateFilter:M(function(t){this.updateFilter(t)},600),filterPrice:function(t){this.filter=t,this.input=t},setLearn(t){this.loading=!0,this.idProduct=t,console.log(t);let e=this;u.get("/sanctum/csrf-cookie").then(s=>{u.post("/api/product/set-learn",{id_product:e.idProduct}).then(n=>{n.status?(console.log("\u0412\u044B\u0437\u0432\u0430\u043B\u0438 \u0430\u043B\u0435\u0440\u0442"),this.getWashProduct(),this.loading=!1):(console.log("\u041D\u0435 \u0440\u0430\u0431\u043E\u0442\u0430\u0435\u0442"),console.log(n.status),this.loading=!1)}).catch(function(n){console.log(s),console.error(n),this.loading=!1})})},getWashProduct(){let t=this;u.get("/api/product/smart").then(function(e){t.items=e.data.products,t.listPrice=e.data.price,console.log(e.data.groups),t.loading=!1}).catch(function(e){console.error(e)})},setFavorite(t,e){this.loading=!0,this.idProduct=t,this.isFavor=e,console.log(t);let s=this;u.get("/sanctum/csrf-cookie").then(n=>{u.post("/api/product/set-favorite",{id_product:s.idProduct,is_favorite:s.isFavor}).then(o=>{o.status?(console.log("\u0412\u044B\u0437\u0432\u0430\u043B\u0438 \u0430\u043B\u0435\u0440\u0442"),this.getWashProduct(),this.loading=!1):(console.log("\u041D\u0435 \u0440\u0430\u0431\u043E\u0442\u0430\u0435\u0442"),console.log(o.status),this.loading=!1)}).catch(function(o){console.log(n),console.error(o),this.loading=!1})})},resetInfoModal(){this.infoModal.title="",this.infoModal.content=""},async handleSubmit(){let t=this;u.get("/sanctum/csrf-cookie").then(e=>{u.post("/api/group/set-subscriber",{count_subscriber:this.countSubscriber,id_group:t.idGroup}).then(s=>{s.status?(console.log("\u0412\u044B\u0437\u0432\u0430\u043B\u0438 \u0430\u043B\u0435\u0440\u0442"),this.getGroups(),this.$refs["my-modal"].hide()):(console.log("\u041D\u0435 \u0440\u0430\u0431\u043E\u0442\u0430\u0435\u0442"),console.log(s.status))}).catch(function(s){console.log(e),console.error(s)})})}},computed:{customFilteringFn(){return this.isCustomFilteringFn?this.filterExact:void 0}},watch:{input(t){this.isDebounceInput?this.debouncedUpdateFilter(t):this.updateFilter(t)}},mounted:function(){this.getWashProduct()}},W={class:"grid md:grid-cols-2 gap-6 mb-6"},D={class:"flex flex-col gap-6"},E={class:"flex flex-wrap gap-6 mb-6"},L=["onClick"],A=p("\u041F\u043E\u0432\u0442\u043E\u0440\u0438\u043B"),G=p(" Number of filtered items: ");function T(t,e,s,n,o,d){const x=c("va-input"),_=c("va-checkbox"),v=c("va-chip"),C=c("va-select"),P=c("va-button"),y=c("va-switch"),S=c("va-data-table"),U=c("va-alert"),w=c("va-card-content"),B=c("va-card");return m(),F(B,null,{default:r(()=>[a(w,null,{default:r(()=>[f("div",W,[a(x,{modelValue:o.input,"onUpdate:modelValue":e[0]||(e[0]=l=>o.input=l),placeholder:"Filter...",class:"w-full"},null,8,["modelValue"]),f("div",D,[a(_,{modelValue:o.isCustomFilteringFn,"onUpdate:modelValue":e[1]||(e[1]=l=>o.isCustomFilteringFn=l),label:"Use custom filtering function (looks for an exact match)"},null,8,["modelValue"]),a(_,{modelValue:o.isDebounceInput,"onUpdate:modelValue":e[2]||(e[2]=l=>o.isDebounceInput=l),label:"Debounce input"},null,8,["modelValue"])])]),f("div",E,[(m(!0),g(V,null,k(o.listPrice,(l,i)=>(m(),g("span",{key:i},[f("a",{href:"#",onClick:j=>d.filterPrice(i)},h(i)+"("+h(l)+") ",9,L)]))),128))]),a(C,{modelValue:o.multiSelect,"onUpdate:modelValue":e[3]||(e[3]=l=>o.multiSelect=l),class:"col-span-1",label:"Multiple select with content slot",placeholder:"Start to write...",options:o.options,multiple:"",autocomplete:"","highlight-matched-text":""},{content:r(({value:l})=>[(m(!0),g(V,null,k(l,i=>(m(),F(v,{key:i,class:"mr-1",size:"small"},{default:r(()=>[p(h(i),1)]),_:2},1024))),128))]),_:1},8,["modelValue","options"]),a(S,{items:o.items,columns:o.columns,filter:o.filter,"filter-method":d.customFilteringFn,onFiltered:e[4]||(e[4]=l=>o.filteredCount=l.items.length),loading:o.loading},{"cell(actions)":r(({rowData:l})=>[a(P,{onClick:i=>d.setLearn(l.id)},{default:r(()=>[A]),_:2},1032,["onClick"])]),"cell(favorite)":r(({rowData:l})=>[a(y,{modelValue:l.isFavorite,"onUpdate:modelValue":i=>l.isFavorite=i,onClick:i=>d.setFavorite(l.id,l.isFavorite)},null,8,["modelValue","onUpdate:modelValue","onClick"])]),_:1},8,["items","columns","filter","filter-method","loading"]),a(U,{class:"!mt-6",color:"info",outline:""},{default:r(()=>[G,a(v,null,{default:r(()=>[p(h(o.filteredCount),1)]),_:1})]),_:1})]),_:1})]),_:1})}var X=I(N,[["render",T]]);export{X as default};
